<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CodePen Editor</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            height: 100vh;
            overflow: hidden;
            background: #1e1e1e;
        }

        .header {
            background: #2d2d30;
            color: #cccccc;
            padding: 12px 20px;
            display: flex;
            align-items: center;
            border-bottom: 1px solid #3e3e42;
        }

        .header h1 {
            font-size: 18px;
            font-weight: 600;
        }

        .container {
            display: flex;
            height: calc(100vh - 49px);
        }

        .editors-panel {
            display: flex;
            width: 100%;
            overflow: hidden;
        }

        .editor-section {
            display: flex;
            flex-direction: column;
            flex: 1;
            min-width: 100px;
            position: relative;
        }

        .editor-header {
            background: #2d2d30;
            color: #cccccc;
            padding: 10px 15px;
            font-size: 14px;
            font-weight: 500;
            border-right: 1px solid #3e3e42;
            display: flex;
            align-items: center;
        }

        .editor-header .icon {
            margin-right: 8px;
            font-weight: bold;
        }

        .html-header .icon { color: #e44d26; }
        .css-header .icon { color: #264de4; }
        .js-header .icon { color: #f7df1e; }

        .editor-wrapper {
            flex: 1;
            position: relative;
            border-right: 1px solid #3e3e42;
        }

        .resizer {
            width: 5px;
            background: #3e3e42;
            cursor: col-resize;
            position: relative;
            transition: background 0.2s;
        }

        .resizer:hover {
            background: #007acc;
        }

        .resizer.dragging {
            background: #007acc;
        }

        .preview-panel {
            display: none;
        }

        .preview-header {
            display: none;
        }

        #preview {
            display: none;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>Code Editor</h1>
    </div>

    <div class="container">
        <div class="editors-panel">
            <div class="editor-section" id="html-section">
                <div class="editor-header html-header">
                    <span class="icon">●</span> HTML
                </div>
                <div class="editor-wrapper" id="html-editor"></div>
            </div>

            <div class="resizer" data-resize="html"></div>

            <div class="editor-section" id="css-section">
                <div class="editor-header css-header">
                    <span class="icon">●</span> CSS
                </div>
                <div class="editor-wrapper" id="css-editor"></div>
            </div>

            <div class="resizer" data-resize="css"></div>

            <div class="editor-section" id="js-section">
                <div class="editor-header js-header">
                    <span class="icon">●</span> JavaScript
                </div>
                <div class="editor-wrapper" id="js-editor"></div>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.44.0/min/vs/loader.min.js"></script>
    <script>
        let htmlEditor, cssEditor, jsEditor;

        require.config({ paths: { vs: 'https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.44.0/min/vs' } });

        require(['vs/editor/editor.main'], function () {
            // HTML Editor
            htmlEditor = monaco.editor.create(document.getElementById('html-editor'), {
                value: '<div class="container">\n  <h1>Hello World!</h1>\n  <p>Start coding...</p>\n</div>',
                language: 'html',
                theme: 'vs-dark',
                automaticLayout: true,
                minimap: { enabled: false },
                fontSize: 14
            });

            // CSS Editor
            cssEditor = monaco.editor.create(document.getElementById('css-editor'), {
                value: '.container {\n  padding: 20px;\n  text-align: center;\n}\n\nh1 {\n  color: #007acc;\n}',
                language: 'css',
                theme: 'vs-dark',
                automaticLayout: true,
                minimap: { enabled: false },
                fontSize: 14
            });

            // JavaScript Editor
            jsEditor = monaco.editor.create(document.getElementById('js-editor'), {
                value: '// Write your JavaScript here\nconsole.log("Ready to code!");',
                language: 'javascript',
                theme: 'vs-dark',
                automaticLayout: true,
                minimap: { enabled: false },
                fontSize: 14
            });
        });

        // Resizing functionality
        let isResizing = false;
        let currentResizer = null;
        let startX = 0;
        let startWidths = [];

        document.querySelectorAll('.resizer').forEach(resizer => {
            resizer.addEventListener('mousedown', (e) => {
                isResizing = true;
                currentResizer = e.target;
                startX = e.clientX;
                
                // Store all section widths
                startWidths = [];
                document.querySelectorAll('.editor-section').forEach(section => {
                    startWidths.push(section.offsetWidth);
                });
                
                currentResizer.classList.add('dragging');
                document.body.style.cursor = 'col-resize';
                e.preventDefault();
            });
        });

        document.addEventListener('mousemove', (e) => {
            if (!isResizing) return;

            const delta = e.clientX - startX;
            const sections = document.querySelectorAll('.editor-section');
            const resizerIndex = Array.from(document.querySelectorAll('.resizer')).indexOf(currentResizer);
            
            const leftSection = sections[resizerIndex];
            const rightSection = sections[resizerIndex + 1];
            
            const newLeftWidth = startWidths[resizerIndex] + delta;
            const newRightWidth = startWidths[resizerIndex + 1] - delta;
            
            if (newLeftWidth > 100 && newRightWidth > 100) {
                leftSection.style.flex = `0 0 ${newLeftWidth}px`;
                rightSection.style.flex = `0 0 ${newRightWidth}px`;
            }
        });

        document.addEventListener('mouseup', () => {
            if (isResizing) {
                isResizing = false;
                if (currentResizer) {
                    currentResizer.classList.remove('dragging');
                }
                document.body.style.cursor = 'default';
                currentResizer = null;
            }
        });
    </script>
</body>
</html>